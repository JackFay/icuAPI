{"version":3,"sources":["../../../src/js/actions/settingsActions.js"],"names":["get_notifications","create_notification","save_notifications","notification_change","userId","dispatch","req","get","then","response","data","map","setting","new","user_id","type","payload","catch","console","log","error","notifications","post","settings"],"mappings":";;;;;;;;QAEgBA,iB,GAAAA,iB;QAoBAC,mB,GAAAA,mB;QAMAC,kB,GAAAA,kB;QAaAC,mB,GAAAA,mB;;AAzChB;;;;;;AAEO,SAASH,iBAAT,CAA2BI,MAA3B,EAAkC;AACrC,WAAO,UAASC,QAAT,EAAkB;AACrB,YAAIC,MAAM,qDAAqDF,MAA/D;AACA,wBAAMG,GAAN,CAAUD,GAAV,EACCE,IADD,CACM,UAACC,QAAD,EAAc;AAChBA,qBAASC,IAAT,GAAgBD,SAASC,IAAT,CAAcC,GAAd,CAAkB,mBAAW;AACzC,oCACOC,OADP;AAEIC,yBAAK;AAFT;AAIH,aALe,CAAhB;AAMAJ,qBAASC,IAAT,CAAcI,OAAd,GAAwBV,MAAxB;AACAC,qBAAS,EAACU,MAAM,mBAAP,EAA4BC,SAASP,SAASC,IAA9C,EAAT;AACH,SAVD,EAWCO,KAXD,CAWO,iBAAS;AACZC,oBAAQC,GAAR,CAAY,4BAA4BC,KAAxC;AACH,SAbD;AAcH,KAhBD;AAiBH;;AAEM,SAASnB,mBAAT,GAA8B;AACjC,WAAO,UAASI,QAAT,EAAkB;AACrBA,iBAAS,EAACU,MAAM,qBAAP,EAAT;AACH,KAFD;AAGH;;AAEM,SAASb,kBAAT,CAA4BmB,aAA5B,EAA0C;AAC7C,WAAO,UAAShB,QAAT,EAAkB;AACrB,wBAAMiB,IAAN,CAAW,iDAAX,EAA8DD,aAA9D,EACCb,IADD,CACM,oBAAY;AACdU,oBAAQC,GAAR,CAAYV,SAASC,IAArB;AACH,SAHD,EAICO,KAJD,CAIO,iBAAS;AACZC,oBAAQC,GAAR,CAAYC,KAAZ;AACH,SAND;AAOAf,iBAAS,EAACU,MAAM,oBAAP,EAA6BC,SAASK,aAAtC,EAAT;AACH,KATD;AAUH;;AAEM,SAASlB,mBAAT,CAA6BoB,QAA7B,EAAsC;AACzC,WAAO,UAASlB,QAAT,EAAkB;AACrBA,iBAAS,EAACU,MAAM,qBAAP,EAA8BC,SAASO,QAAvC,EAAT;AACH,KAFD;AAGH","file":"settingsActions.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport function get_notifications(userId){\r\n    return function(dispatch){\r\n        var req = \"http://localhost:8000/api/notification_settings/\" + userId\r\n        axios.get(req)\r\n        .then((response) => {\r\n            response.data = response.data.map(setting => {\r\n                return {\r\n                    ...setting,\r\n                    new: false,\r\n                }\r\n            })\r\n            response.data.user_id = userId\r\n            dispatch({type: \"GET_NOTIFICATIONS\", payload: response.data})\r\n        })\r\n        .catch(error => {\r\n            console.log(\"Error connecting to db \" + error)\r\n        })\r\n    }\r\n}\r\n\r\nexport function create_notification(){\r\n    return function(dispatch){\r\n        dispatch({type: \"CREATE_NOTIFICATION\"})\r\n    }\r\n}\r\n\r\nexport function save_notifications(notifications){\r\n    return function(dispatch){\r\n        axios.post(\"http://localhost:8000/api/notification_settings\", notifications)\r\n        .then(response => {\r\n            console.log(response.data)\r\n        })\r\n        .catch(error => {\r\n            console.log(error)\r\n        })\r\n        dispatch({type: \"SAVE_NOTIFICATIONS\", payload: notifications})\r\n    }\r\n}\r\n\r\nexport function notification_change(settings){\r\n    return function(dispatch){\r\n        dispatch({type: \"NOTIFICATION_CHANGE\", payload: settings})\r\n    }\r\n}\r\n"]}