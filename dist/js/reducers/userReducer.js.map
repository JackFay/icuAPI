{"version":3,"sources":["../../../src/js/reducers/userReducer.js"],"names":["reducer","state","user","id","name","age","fetching","fetched","error","loggedIn","userId","images","notifications","action","type","JSON","parse","localStorage","getItem","payload","Storage","setItem","stringify","user_id"],"mappings":";;;;;;;;kBAAwBA,O;AAAT,SAASA,OAAT,GAaF;AAAA,QAbmBC,KAanB,uEAbyB;AAClCC,cAAM;AACJC,gBAAI,IADA;AAEJC,kBAAM,IAFF;AAGJC,iBAAK;AAHD,SAD4B;AAMlCC,kBAAU,KANwB;AAOlCC,iBAAS,KAPyB;AAQlCC,eAAO,IAR2B;AASlCC,kBAAU,KATwB;AAUlCC,gBAAQ,IAV0B;AAWlCC,gBAAQ,EAX0B;AAYlCC,uBAAe;AAZmB,KAazB;AAAA,QAARC,MAAQ;;;AAET,YAAQA,OAAOC,IAAf;AACE,aAAK,MAAL;AAAY;AACJ;AACA,uBAAOC,KAAKC,KAAL,CAAWC,aAAaC,OAAb,CAAqB,MAArB,CAAX,CAAP;AAEP;AACD,aAAK,YAAL;AAAmB;AACjB,oCAAWjB,KAAX,IAAkBK,UAAU,IAA5B;AACD;AACD,aAAK,qBAAL;AAA4B;AAC1B,oCAAWL,KAAX,IAAkBK,UAAU,KAA5B,EAAmCE,OAAOK,OAAOM,OAAjD;AACD;AACD,aAAK,sBAAL;AAA6B;AAC3B,oCACKlB,KADL;AAEEK,8BAAU,KAFZ;AAGEC,6BAAS,IAHX;AAIEL,0BAAMW,OAAOM,OAAP,CAAe,CAAf;AAJR;AAMD;AACC,aAAK,eAAL;AAAqB;AACjB,oBAAG,OAAOC,OAAP,KAAoB,WAAvB,EAAmC;AAC/BH,iCAAaI,OAAb,CAAqB,MAArB,EAA6BN,KAAKO,SAAL,cACtBrB,KADsB;AAEzBQ,kCAAU,IAFe;AAGzBC,gCAAQG,OAAOM,OAAP,CAAeI;AAHE,uBAA7B;AAKH;AACD,oCACOtB,KADP;AAEIQ,8BAAU,IAFd;AAGIC,4BAAQG,OAAOM,OAAP,CAAeI;AAH3B;AAKH;AACD,aAAK,QAAL;AAAc;AACV,oBAAG,OAAOH,OAAP,KAAoB,WAAvB,EAAmC;AAC/BH,iCAAaI,OAAb,CAAqB,MAArB,EAA6BN,KAAKO,SAAL,cACtBrB,KADsB;AAEzBC,8BAAM;AACJC,gCAAI,IADA;AAEJC,kCAAM,IAFF;AAGJC,iCAAK;AAHD,yBAFmB;AAOzBC,kCAAU,KAPe;AAQzBC,iCAAS,KARgB;AASzBC,+BAAO,IATkB;AAUzBC,kCAAU,KAVe;AAWzBC,gCAAQ,IAXiB;AAYzBC,gCAAQ,EAZiB;AAazBC,uCAAe;AAbU,uBAA7B;AAeH;AACD,oCACOX,KADP;AAEIC,0BAAM;AACJC,4BAAI,IADA;AAEJC,8BAAM,IAFF;AAGJC,6BAAK;AAHD,qBAFV;AAOIC,8BAAU,KAPd;AAQIC,6BAAS,KARb;AASIC,2BAAO,IATX;AAUIC,8BAAU,KAVd;AAWIC,4BAAQ,IAXZ;AAYIC,4BAAQ,EAZZ;AAaIC,mCAAe;AAbnB;AAeH;AACD,aAAK,YAAL;AAAkB;AACd,oCACOX,KADP;AAEIU,4BAAQE,OAAOM;AAFnB;AAIH;AAzEL;;AA4EA,WAAOlB,KAAP;AACH","file":"userReducer.js","sourcesContent":["export default function reducer(state={\r\n    user: {\r\n      id: null,\r\n      name: null,\r\n      age: null,\r\n    },\r\n    fetching: false,\r\n    fetched: false,\r\n    error: null,\r\n    loggedIn: false,\r\n    userId: null,\r\n    images: [],\r\n    notifications: [],\r\n  }, action) {\r\n\r\n    switch (action.type) {\r\n      case \"INIT\":{\r\n              //console.log(JSON.parse(localStorage.getItem('user')))\r\n              return JSON.parse(localStorage.getItem('user'))\r\n          \r\n      }   \r\n      case \"FETCH_USER\": {\r\n        return {...state, fetching: true}\r\n      }\r\n      case \"FETCH_USER_REJECTED\": {\r\n        return {...state, fetching: false, error: action.payload}\r\n      }\r\n      case \"FETCH_USER_FULFILLED\": {\r\n        return {\r\n          ...state,\r\n          fetching: false,\r\n          fetched: true,\r\n          user: action.payload[0],\r\n        }\r\n      }\r\n        case \"LOGIN_SUCCESS\":{\r\n            if(typeof(Storage) !== \"undefined\"){\r\n                localStorage.setItem('user', JSON.stringify({\r\n                    ...state,\r\n                    loggedIn: true,\r\n                    userId: action.payload.user_id\r\n                }))\r\n            }\r\n            return{\r\n                ...state,\r\n                loggedIn: true,\r\n                userId: action.payload.user_id\r\n            }\r\n        }\r\n        case \"LOGOUT\":{\r\n            if(typeof(Storage) !== \"undefined\"){\r\n                localStorage.setItem('user', JSON.stringify({\r\n                    ...state,\r\n                    user: {\r\n                      id: null,\r\n                      name: null,\r\n                      age: null,\r\n                    },\r\n                    fetching: false,\r\n                    fetched: false,\r\n                    error: null,\r\n                    loggedIn: false,\r\n                    userId: null,\r\n                    images: [],\r\n                    notifications: []\r\n                }))\r\n            }\r\n            return{\r\n                ...state,\r\n                user: {\r\n                  id: null,\r\n                  name: null,\r\n                  age: null,\r\n                },\r\n                fetching: false,\r\n                fetched: false,\r\n                error: null,\r\n                loggedIn: false,\r\n                userId: null,\r\n                images: [],\r\n                notifications: []\r\n            }\r\n        }\r\n        case \"GET_IMAGES\":{\r\n            return{\r\n                ...state,\r\n                images: action.payload\r\n            }\r\n        }\r\n    }\r\n\r\n    return state\r\n}\r\n"]}