{"version":3,"sources":["../../../src/js/pages/Settings.js"],"names":["Settings","store","notifications","settings","userId","user","state","settingsComponents","props","dispatch","console","log","e","SettingsComponents","map","notification","setting_id","notificationChange","bind","addSetting","onSave","setting","Component"],"mappings":";;;;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;AACA;;;;;;;;;;IAUqBA,Q,WANpB,yBAAQ,UAACC,KAAD,EAAW;AAChB,WAAM;AACFC,uBAAeD,MAAME,QAAN,CAAeD,aAD5B;AAEFE,gBAAQH,MAAMI,IAAN,CAAWD;AAFjB,KAAN;AAIH,CALA,C;;;AAQG,wBAAa;AAAA;;AAAA;;AAET,cAAKE,KAAL,GAAa;AACTJ,2BAAe,EADN;AAETK,gCAAoB;AAFX,SAAb;AAFS;AAMZ;;;;6CAEmB;AAChB,iBAAKC,KAAL,CAAWC,QAAX,CAAoB,wCAAkB,KAAKD,KAAL,CAAWJ,MAA7B,CAApB;AACH;;;qCAGW;AACR,iBAAKI,KAAL,CAAWC,QAAX,CAAoB,2CAApB;AACH;;;+BAEMN,Q,EAAS;AACZO,oBAAQC,GAAR,CAAYR,QAAZ;AACA,iBAAKK,KAAL,CAAWC,QAAX,CAAoB,yCAAmBN,QAAnB,CAApB;AACH;;;2CAEkBS,C,EAAE;AACjBF,oBAAQC,GAAR,CAAYC,CAAZ;AACH;;;iCAEO;AAAA;;AACJ,gBAAMC,qBAAqB,KAAKL,KAAL,CAAWN,aAAX,CAAyBY,GAAzB,CAA6B,wBAAgB;AACpE,uBAAO,sEAAmB,KAAKC,aAAaC,UAArC,IAAoDD,YAApD,IAAkE,UAAU,OAAKE,kBAAL,CAAwBC,IAAxB,QAA5E,IAAP;AACH,aAF0B,CAA3B;AAGA,mBACI;AAAA;AAAA,kBAAK,SAAM,aAAX;AACI;AAAA;AAAA,sBAAS,SAAM,cAAf;AACE;AAAA;AAAA,0BAAK,SAAM,oBAAX;AACE;AAAA;AAAA,8BAAK,SAAM,WAAX;AACI;AAAA;AAAA,kCAAK,SAAM,kBAAX;AAAA;AAAgG,yEAAhG;AAAA;AAAgH;AAAA;AAAA;AAAA;AAAA,iCAAhH;AAAA;AAAmI;AAAA;AAAA;AAAA;AAAA,iCAAnI;AAAA;AAAwJ;AAAA;AAAA;AAAA;AAAA,iCAAxJ;AAAA;AAAoN,yEAApN;AACCL,kDADD;AAEA;AAAA;AAAA,sCAAQ,IAAG,WAAX,EAAuB,SAAM,mCAA7B,EAAiE,SAAS,KAAKM,UAAL,CAAgBD,IAAhB,CAAqB,IAArB,CAA1E;AAAsG;AAAA;AAAA;AAAA;AAAA;AAAtG,iCAFA;AAGA;AAAA;AAAA,sCAAQ,IAAG,YAAX,EAAwB,SAAM,mCAA9B,EAAkE,SAAS;AAAA,mDAAM,OAAKE,MAAL,CAAYP,mBAAmBC,GAAnB,CAAuB,mBAAW;AAAC,uDAAOO,QAAQb,KAAf;AAAqB,6CAAxD,CAAZ,CAAN;AAAA,yCAA3E;AAAyJ;AAAA;AAAA;AAAA;AAAA;AAAzJ;AAHA,6BADJ;AAMI,mEAAK,SAAM,kBAAX,EAA8B,IAAG,uBAAjC;AANJ;AADF;AADF;AADJ,aADJ;AAiBH;;;;EAjDiC,gBAAMc,S;kBAAvBtB,Q","file":"Settings.js","sourcesContent":["import React from \"react\"\r\nimport SettingsComponent from \"../components/settings/SettingsComponent\"\r\nimport {connect} from \"react-redux\"\r\nimport {get_notifications} from \"../actions/settingsActions\"\r\nimport {create_notification} from \"../actions/settingsActions\"\r\nimport {save_notifications} from \"../actions/settingsActions\"\r\n\r\n@connect((store) => {\r\n    return{\r\n        notifications: store.settings.notifications,\r\n        userId: store.user.userId\r\n    }\r\n})\r\nexport default class Settings extends React.Component{\r\n    \r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            notifications: [],\r\n            settingsComponents: []\r\n        }\r\n    }\r\n    \r\n    componentWillMount(){\r\n        this.props.dispatch(get_notifications(this.props.userId))\r\n    }\r\n    \r\n    \r\n    addSetting(){\r\n        this.props.dispatch(create_notification())        \r\n    }\r\n    \r\n    onSave(settings){\r\n        console.log(settings)\r\n        this.props.dispatch(save_notifications(settings))\r\n    }\r\n    \r\n    notificationChange(e){\r\n        console.log(e)\r\n    }\r\n    \r\n    render(){\r\n        const SettingsComponents = this.props.notifications.map(notification => {\r\n            return <SettingsComponent key={notification.setting_id}{...notification} onChange={this.notificationChange.bind(this)}/>\r\n        })\r\n        return(\r\n            <div class=\"MainContent\">\r\n                <section class=\"FirstSection\">\r\n                  <div class=\"MarketingContainer\">\r\n                    <div class=\"centerDiv\">\r\n                        <div class=\"notificationRule\"> Take control of your home security by adding a notification rule.<br/> Provide a <b>start time</b>, <b>end time</b>, and <b>notification preference</b>. We'll take care of the rest!<br/>\r\n                        {SettingsComponents}\r\n                        <button id=\"addButton\" class=\"ui-button ui-widget ui-corner-all\" onClick={this.addSetting.bind(this)}><b>Add </b></button>\r\n                        <button id=\"saveButton\" class=\"ui-button ui-widget ui-corner-all\" onClick={() => this.onSave(SettingsComponents.map(setting => {return setting.props}))}><b>Save</b></button>\r\n                        </div>\r\n                        <div class=\"notificationRule\" id=\"notificationContainer\">\r\n                        </div>\r\n                    </div>\r\n                  </div>\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n}"]}